# 关于项目4：基于零售数据挖掘业务特征

## 我做了什么：

* 使用DB Browser for SQLite链接数据库，加载数据，观察数据创建各数据表之间的ER关系图，提出问题，写SQL取数后使用Excel可视化。
* Q1查找不同年份下订单的非重复客户数、订单销售总额和平均销售额，使用with语句创建子查询对各订单的销售总金额后leftjoin至每个订单的客户信息，对此表进行聚合求计数、求和以及平均值，并对结果进行可视化。
* Q2查找比所有客户平均销售额高的前十客户的国家，使使用with语句创建子查询对各订单的销售总金额后leftjoin至每个订单的客户信息，根据此表关联国家表查找高于订单总金额均值的前十个国家，在hiving语句中使用子查询创建关联订单销售额的订单客户信息求平均值进行筛选。





以下为官方项目概述

---

---


## 让我们首先来设置一下你的本地环境吧

在教室里开始学习 SQL 是完全没问题的，但要想真正掌握技能，最好的方法是学会本地环境设置，并学习在自己的环境中处理问题。

接下来的几个问题将有助于帮你顺利完成本地设置。完成设置后，你就可以使用这个工作区了，不仅仅是在这个项目中，以后都可以使用哦！

对于我们要使用的环境，非常快就可以完成设置，所以希望你能够马上搞定并运行起来:)

你需要做的就是......

- 下载新数据库
- 下载 DB Browser for SQLite

将 DB Broswer for SQLite 连接到你的新数据库后，你就可以开始进行下一页任务了！



### 下载 DB Browser for SQLite

对于不同类型的数据库，可以使用的数据库浏览器也有很多。在本课程中，我们将使用 DB Browser for SQLite。当然了，你也可能使用其他类似的浏览工具。

DB Browser for SQLite 可以在这里下载: http://sqlitebrowser.org/



### 下载数据库

你可以从页面下方下载我们将在此项目中使用的数据库。

## 将 Browser 与数据库连接起来

下面是具体步骤：

- 打开 DB Browser to SQLite
- 点击 *Open Database*
- 导航到 Northwind.sqlite3 文件 (可能在你的下载文件中)
- 点击 *Execute SQL*
- 开始查询数据



## 数据库查询

### 学习目标

学员应学会查询关系数据库并提取所需信息。 学员应学会编写包含连接、聚合与子查询的SQL查询命令。 学员应学会通过数据可视化有效地展示他们的分析。

### 业务场景

这里有一家经营各种食品批发的批发商，而是你是这家批发商的商业智能分析师。你负责将分析仪表板放在一起进行管理。他们要求你专注于其业务的一个维度，并创建一个仪表板，提供与该维度相关的各种汇总统计信息。

选择下面的一个维度，然后使用可视化创建一个演示文稿，该演示文稿需要提供有关该维度的高级摘要信息。

- 客户
- 供应商
- 产品
- 雇员

下面是帮助你进行分析的几个问题：

- 我的客户分布在哪里？
- 哪些公司在供应我销售的大部分产品？
- 表现最好的员工是谁？
- 哪些产品的销售额在增长？

### 数据库

你将使用的是一个名为 Northwind.sqlite3 的数据库。但是，如果你使用的是 DB Browser for SQLite，请按照如下步骤操作：

- 点击界面上方的 open database。
- 找到并打开 Northwind.sqlite3 数据库文件。
- 花一些时间来浏览并看懂这些数据。

### 项目提交

##### 可视化

我们建议你使用电子表格应用程序（如Excel或Google表格）来创建可视化。当然了，我们也欢迎你使用你喜欢的任何一种工具。

要从 DB Browser 中导出查询结果，请使用查询结果窗口右下方的按钮。

选择 Export to CSV，然后选择与以下内容相匹配的设置。请注意， **New line characters** 需要设置为`Unix: LF(\n)`。

##### 演示文稿

你的演示文稿应包含以下内容：

- 四到五张幻灯片
- 每张幻灯片对应一个可视化
- 每张幻灯片都需要有 1-2 句话的说明
- 需要包含可视化中用于创建数据的 SQL 查询。

提交文件的模板是 Google 幻灯片文件。请参照提交模板，完成你的项目。我们建议你使用模板中的布局，当然了，也可以使用其他布局。

##### 查询

请包含一个文本文件，该文件需要包含用于创建可视化的每个查询。

**将你的文本文件与演示文稿放在一个文件夹中并进行压缩，然后提交该压缩文件夹**