# 12不适合做A/B测试的场景

* A/B测试可以解决大部分因果推断的问题。
* 不适用的场景
  * 没有办法控制想要测试的变量：能控制的变量都在产品和业务端，但是用户个人的选择是没有办法也不可能是控制的。
  * 重大事件发布：新产品新业务的发布或者涉及产品形象的一些改变。
  * 用户数量很少：短时间内无法达到所需要的样本量。

* A/B测试不适用时的替代方法
  * 选用非实验的因果推断方法和用户研究。
  * 倾向评分匹配：一种非实验的因果推断方法
    * 在历史数据中通过模型的方法人为的构建出相似的实验组和对照组，最后再对两组进行比较。
  * 用户研究
    * 新产品 / 业务发布前的测评，可以通过直接或间接的方式和用户交流沟通来获取信息，从而判断相应的变化会对用户产生什么影响。
    * 深度用户体验研究：通过选取几个潜在用户进行深度的信息提取，比如眼动研究，用户自己记录的日记研究。
    * 焦点小组：有引导的小组讨论，组织潜在用户，引导讨论不同话题根据不同意见的出综合反馈。
    * 调查问卷：事先设计好想要了解的问题，发放问卷，收集结果，统计反馈。

# 13-14A/B测试面试必知必会

* A/B测试常见考点：
  * 相关统计知识：假设检验、P值、Power、显著水平、第一类错误、第二类错误、置信区间、正态分布。
  * A/B测试的设计及流程：整体流程、如何选取指标、样本量计算及影响因素、实验分组设计、确定目标和假设、合理性检验、分析测试结果。
  * 常见误区及解决方法：多重检验问题、辛普森悖论、实验/对照组的独立性、网络效应、学习效应：新奇效应和改变厌恶。
* 面试题1：共享出行公司改进司机使用APP的界面设计实验验证新的司机APP比旧的司机APP体验好
  * 考点：A/B测试流程+实验组/对照组的独立性。
  * 测试流程：确定目标和假设→确定指标（需说出评价指标和潜在的护栏指标）→确定实验单位→ 随机分组（一般为均分）→ 确定样本量（强调需要已知哪些统计量来确定样本量）→实施测试 →合理性检验（要说出具体的检验都有哪些）→分析结果（注意说明 P 值法和置信区间法的判断标准），注意结合题目具体内容展开说明。
  * 坑点：共享出行业务，实验组和对照组不独立，相互影响。
  * 完整回答方式：先指出两组独立性被破坏的问题，通过举例分析说明两组是相互影响的；然后提出你的解决方案；最后结合实际情境串讲流程。
  * 隐藏考点：学习效应，简单提及说明识别和解决方法即可。
* 面试题2：A/B 测试虽然得到了显著的结果（比如 P 值小于 5%），但最终还是决定不在业务 / 产品中实施测试中的变化。原因是什么
  * 考点：实施A/B测试要考虑的因素，变体：结果是统计显著的，但是业务并不显著，因此在实践中没有实施变化。
  * 统计上的显著结果只是最终实施变化的原因之一，另一个方面还要考虑到实施变化的成本和收益。
  * 回答方法：结合案例围绕着以上这些成本展开讲解，提出结果是统计显著，但是业务上不显著，所以最后才没有在实践中实施变化。
  * 实践实施变化主要的成本：
    * 人力成本
    * 机会成本：有两个变化都具有统计显著性，上线只能实施一个变化的取舍，当不同变化有着不同评价指标或受众范围时，通过估算变化带来的业务影响，变化相似且评价指标相同时，可以计算效应值。
    * 代码成本
* 面试题3：想要通过网页改版提升指标，通过 A/B 测试发现，新版本的用户指标显著提升了，实施到全量用户后过了一段时间指标又回到了原来的水平，原因是什么
  * 考点：学习效应
  * 推荐回答：先列举导致这种情况可能的原因有哪些，再结合题目的具体场景进行一一排除，最后得出自己的结论，给出解决方法。
  * 变化实施后的实际效果和测试结果不一致，最常见的原因：
    * 实施测试中出现了技术bug
    * 计算测试结果时出现错误比如没有到足够的样本量就计算结果
    * A/B测试中的常见误区：实验组对照组是否会相互影响，两组的独立性是否被破坏，多重假设问题，辛普森悖论，学习效应。
* 面试题4：用通俗的语言向不太懂统计的同事解释没到时间观察到显著结果是不行的
  * 考点：多重检验问题和统计原理的通俗解释
  * 推荐回答：首先指出多重检验问题，接着说明出现的原因以及可能造成的后果（得到假阳性的概率增大，实验结果不准确），使用通俗的语言解释复杂的统计概念和原理
  * 尽量避免使用统计术语（P值，第一类错误，假设检验等），多打比方，多举例子：
    * 如果我们还没有到达规定的时间，看到显著的结果就宣布实验已经完成，从而停止实验，这就和在比赛中看到一方领先就宣布领先的一方获胜、比赛结束是一样的道理。
* 面试题5：产品现在想改变商标，所以想衡量新商标对业务的影响，该如何做
  * 考点：A/B 测试的适用范围及替代方法
  * 答题思路：说明题中场景下 A/B 测试不适用及其原因，然后再给出用户研究和模型的办法来作为替代解决方法。
  * 当有重大事件发布时”，不适合去做 A/B 测试，商标即是其中之一。A/B 测试的两种替代方法：非实验的因果推断方法和用户研究。商标是全新的，无历史相关数据无法进行非实验的因果推断，选定用户研究中的调查问卷收集用户反馈，衡量更换商标后的影响，可以比较推出新商标前后产品的北极星指标的变化来计算出差值去推断出新商标影响，也可以建立模型，用历史数据建立起对北极星指标的时间序列模型，用推出新商标前的数据去训练这个模型，可以预测出没有新商标的北极星指标的走势，然后把模型的预测数据和推出新商标后的实际数据进行比较，从两者的差值来推断出新商标的影响。
* 面试题6：