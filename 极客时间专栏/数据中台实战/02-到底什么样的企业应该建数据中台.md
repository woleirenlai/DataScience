# 02-到底什么样的企业应该建数据中台

## 建设数据中台前面临过的挑战

互联网开始面临线上流量枯竭，开始强调数据是企业增长的新动力，数据需求爆发式增长。  
每个业务流程中都有大量的数据产品辅助运营完成日常工作，提高了运营效率，但是也出现很多尖锐的问题：

1.**指标口径不一致**

虽然都叫销售额，但是一个含税一个不含税，不知道指标的业务口径，很难去使用。

2.**数据重复建设，需求响应时间长**

需求的增长，需求的交付时间也被拉长，业务的快速变化，数据敏捷研发需求无法跟上

3.**取数效率低**

面对数十万张表，运营和分析师找数据、准确地理解数据非常困难，想找到一个想要的数据，确认这个数据和自己的需求匹配需要花费三天以上的时间，对新人来说，这个时间会更长。

另外从系统中取数分析对于非技术出身的分析师和运营来说，会导致大部分的取数工作还是依赖数据开发来完成。数据开发大部分的时间都被临时取数的需求占据，无法专注在数仓模型的构建和集市层数据的建设，最终形成了恶性循环，一方面是数据不完善，另一方面是数据开发忙于各种临时取数需求。

4.**数据质量差**

数据经常因为 BUG 导致计算结果错误，最终导致错误的商业决策。

曾经的坑：在大促期间某类商品搜索转化率增长，于是给这个商品分配了更大的流量，但是转化率增长的原因是数据计算错误，这部分流量也就浪费了，如果分配给其他的商品的话，可以多赚 200W 的营收。

5.**数据成本线性增长**

数据成本随着需求的增长而线性增长，大数据资源增多，折合成机器成本要多好多钱。

## 数据中台可以解决这些问题

这些问题背后的原因

**1.对于数据口径不一致**，可能的原因包括：

**业务口径不一致、计算逻辑不一致、数据来源不一致**

业务口径不一致，就要明确区分这两个指标不能使用相同的标识，比如含税和不含税的两个指标， 不能同时都叫销售额。

同时业务口径的描述往往是一段话，但对于很多指标涉及的计算逻辑非常复杂，仅仅一段话是描述不清楚的，此时两个相同业务口径的指标，恰巧又分别是两个数据开发去实现的，这样就有可能造成计算逻辑不一致。比如，有一个指标叫做排关单（排关单：把关单的排除；关单：关闭订单）的当天交易额这个指标，A 认为关单的定义是未发货前关闭的订单，B 认为关单是当天关闭的订单，对业务口径理解不一致，实现的计算结果也就会不一致。

还有两个指标的数据来源不一样，一个来自实时数据，一个是来自离线的数据，即使加工逻辑一样，最终结果也可能不相同。

**所以要实现一致，就务必确保对同一个指标，只有一个业务口径，只加工一次，数据来源必须相同。**

**2.数据需求响应慢**在于烟囱式的开发模式，导致了大量重复逻辑代码的研发

比如同一份原始数据，两个任务都对原始数据进行清洗。如果只有一个任务清洗，产出一张明细表，另外一个任务直接引用这张表，就可以节省一个研发的清洗逻辑的开发。

**所以要解决数据需求响应慢，就必须解决数据复用的问题，确保相同数据只加工一次，实现数据的共享。**

**3.取数效率低**，一方面原因是找不到数据，另一方面原因可能是取不到数据。

要解决找不到数据的问题，就必须要构建一个全局的企业数据资产目录，实现数据地图的功能，快速找到数据。  
而非技术人员并不适合用写 SQL 的方式来取数据，所以要解决取不到数据的问题，就要为他们提供可视化的查询平台，通过勾选一些参数，才更容易使用。

**4.数据质量差**的背后其实是数据问题很难被发现。经常是等到使用数据的人反馈投诉，才知道数据有问题。

而数据的加工链路一般非常长，在我们的业务中，一个指标上游的所有链路加起来有 100 多个节点是很正常的事情。等到运营投诉再知道数据有问题就太迟了，要逐个去排查到底哪个任务有问题，然后再重跑这个任务以及所有下游链路上的每个任务，这样往往需要花费半天到一天的时间，最终导致故障恢复的效率很低，时间很长。

**要解决数据质量差，就要及时发现然后快速恢复数据问题。**

**5.大数据成本问题**，与需求响应慢背后的数据重复建设有关，因为重复开发任务上线肯定会花费双倍的资源。如果可以节省一个任务的资源消耗，满足两个数据需求，就可以控制不必要的资源消耗。所以，成本问题背后也是数据重复建设的问题。

数据中台给解决这些问题带来了新的启发，数据中台可以看做是**企业构建的标准的、安全的、统一的、共享的数据组织，通过数据服务化的方式支撑前端数据应用。**

数据中台可以消除冗余数据、构建企业级数据资产、提高数据的共享能力。

